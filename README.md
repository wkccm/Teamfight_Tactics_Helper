# Teamfight_Tactics_Helper
云顶之奕助手，提供游戏前期拿牌拿装备的思路

## 功能
- 基本功能：输入阵容的卡牌和装备，在游戏时勾选已有的部分，给出接下来的优先选择
- 可扩展功能：根据已有的卡牌和装备，为玩家推荐合适的阵容，辅助玩家决策

## 功能模块
- 输入阵容：在游戏前将阵容的卡牌和装备输入数据库，作为系统推荐的基础
- 添加当前状态：在游戏中，将已有的卡牌和装备通过勾选的形式，放入当前状态栏中
- 实时推荐：在当前状态发生改变时，更新推荐栏中的数据，包括抢装备和拿牌的优先级
- 实时推荐（可扩展）：在当前状态发生改变时，推荐阵容转换
- 删除阵容：删除垃圾阵容
- 修改阵容：在已有阵容的基础上，修改阵容
- 版本更新修改：在版本更新时，可以在客户端窗口增加、修改、删除装备、卡牌、羁绊

## 数据库
- 阵容表：
  - 阵容名称
  - 包含羁绊
  - 包含卡牌
  - 包含装备
- 卡牌表：
  - 卡牌名称
  - 羁绊
  - 费用
  - 占用人口
- 羁绊表：
  - 羁绊名称
  - 羁绊人口数
- 装备表：
  - 装备名称

## 页面
- 阵容页：包含阵容表，上方有添加按钮，下方每一项有编辑按钮，删除按钮
- 阵容分页：添加按钮或编辑按钮打开后的页面，添加按钮打开内容空白，编辑按钮打开有已存入的信息
- 当前状态页：上方包含当前已有卡牌、装备组件、当前触发羁绊，侧方栏包含卡牌表、装备组件表，下方包含抢装备的优先级，待拿卡牌，（可扩展）阵容切换触发按钮
- 版本更新页：包含卡牌表、装备表、羁绊表

## 功能实现
- 添加阵容时，输入阵容名称，输入包含卡牌，输入包含装备，羁绊动态生成实时更新，最后提交按钮存入数据库
- 修改阵容时，点击编辑按钮，可加载处数据库中已有内容（上次提交后），修改后点击提交按钮可完成修改
- 删除阵容时，点击阵容页删除按钮，删除当前这一项，弹出警告窗口再次确认
- 添加当前状态，可以通过点击卡牌表、装备组件表中按钮向当前状态栏中添加对应元素
- 修改当前状态，可以通过点击当前状态栏中元素，将其移除
- 侧方栏中卡牌表可根据羁绊、费用筛选
- 推荐栏中实时更新待抢卡牌优先级、待拿卡牌
- 版本更新页，进入前警告需删除当前所有阵容，进入后可修改数据库中的卡牌表、装备表、羁绊表

## 推荐算法
- 装备：将核心装备排序，需求多的权重高，攻击性装备权重高，单件防御性装备权重为1，单件攻击性装备权重为2，尚需数量每增加1，权重增加原始值的60%
- 装备按权重排序后显示，权重高的在前，大剑>大棒>攻速>水滴>拳套，护甲>腰带>魔抗，金铲铲优先级最高
- 

## 踩坑汇总和难点
- qt中无mysql驱动：下载qt源码，修改配置并编译，详见https://blog.csdn.net/weixin_41865930/article/details/123860397 和 https://www.bilibili.com/video/av845553908/?vd_source=c5fb42ad849631ec00215afe7671cd8a 缺文件时直接根据信息找到对应目录，如缺少mysql_version.h，发现变成了mysql_version.h.in就另存为一下
- 然后发现debug模式下依旧报错找不到驱动，而release模式就不报错，打包成exe后仍然一样，希望能找出原因
- 睡觉前又试了一下，想到用vs生成时略过了debug模式，所以应该是缺了qsqlmysqld.dll，修改调试信息格式和基本运行时检查后，得到新的dll，放入qt的驱动目录下，debug模式不报错了！